(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(5),c=a.n(s),o=(a(16),a(6)),i=a(7),u=a(10),l=a(8),m=(a(17),a(3)),d=a(9),p=a(1),f=a.n(p),h=a(2),E=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/".concat(t));case 2:return a=e.sent,n=a.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(f.a.mark((function e(){var t,a,n,r,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([E("posts"),E("users"),E("comments")]);case 2:return t=e.sent,a=Object(d.a)(t,3),n=a[0],r=a[1],s=a[2],c=n.map((function(e){var t=r.find((function(t){return t.id===e.userId})),a=s.filter((function(t){return t.postId===e.id}));return Object(m.a)(Object(m.a)({},e),{},{user:t,comments:a})})),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e){var t=e.dataGeneration,a=e.isLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:t,disabled:a,className:"loading-button"},"Get posts"),a&&r.a.createElement("p",{className:"loading-text"},"Loading... Please wait!"))},g=function(e){var t=e.posts;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("div",{className:"post",key:e.id},r.a.createElement("p",{className:"post__title"},r.a.createElement("span",{className:"post__id"},e.id,"."),e.title),r.a.createElement("p",{className:"post__body"},e.body),e.comments.map((function(e){return r.a.createElement("div",{className:"post__comm",key:e.id},r.a.createElement("div",{className:"comm"},r.a.createElement("p",{className:"comm__name"},e.name),r.a.createElement("p",{className:"comm__email"},e.email),r.a.createElement("p",{className:"comm__body"},e.body)))})))})))},y=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={posts:[],isLoading:!1,isLoaded:!1,downloadError:!1,filteredValue:"",searchValue:""},e.debounce=function(e,t){var a=null;return function(){clearTimeout(a),a=setTimeout((function(){return e()}),t)}},e.field=function(t){var a=t.target.value;e.setState({searchValue:a})},e.filterPost=function(){var t=e.state,a=t.filteredValue,n=t.posts;return a?n.filter((function(e){return(e.title+e.body).replace(/\s*/g," ").includes(a.replace(/\s*/g," "))})):n},e.startSearch=function(){var t=e.state.searchValue;e.setState({filteredValue:t})},e.wrapper=e.debounce(e.startSearch,1e3),e.dataGeneration=function(){e.setState({isLoading:!0}),v().then((function(t){return e.setState((function(){return{posts:t,isLoaded:!0,downloadError:!1}}))})).catch((function(){return e.setState((function(){return{downloadError:!0}}))})).finally((function(){return e.setState((function(){return{isLoading:!1}}))}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.isLoaded,s=t.searchValue,c=t.downloadError,o=this.filterPost();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"Posts"),!n&&r.a.createElement(b,{isLoading:a,dataGeneration:this.dataGeneration}),c&&r.a.createElement("p",{className:"error"},"Loading error, please, try again."),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"inputContainer"},r.a.createElement("input",{type:"text",className:"input",placeholder:"write a text for search",value:s,onChange:function(t){e.wrapper(),e.field(t)}})),r.a.createElement(g,{posts:o})))}}]),a}(r.a.PureComponent);c.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.fde7989c.chunk.js.map